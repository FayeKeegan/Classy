<div class='container'>
  <div class='jumbotron'> 
  	<h1 class='logo col col-md-offset-2'> Classy </h1>
  	<p class='col col-md-offset-2'> Stop making your classroom seating charts by hand.
    <br><br>
    <strong> Put down that marker. Put down the grid paper. Use a computer. </strong>
     </p>
  </div>
</div>

<div class='container'>
  <table class="table table-bordered splash-grid">
    <% 5.times do |row_num| %>
      <tr class="splash-grid-row">
        <% 10.times do |col_num| %>
            <td class='splash-grid-cell'

              row-num="<%= row_num %>"
              col-num="<%= col_num %>"> 
           </td>
        <% end %>
      </tr>
    <% end %>
  </table>
</div>
<br><br>

<div id="login-form" name="login-jumbotron" class='jumbotron'>
	<h3 class='col col-md-offset-2'> Log In </h3>
	<form  class="form-horizontal" action="/session" method="POST">
  <fieldset>
	<input type ="hidden" name ="authenticity_token" value="<%=form_authenticity_token%>" >
    <div class="form-group">
      <label for="username-input" class="col-md-2 control-label">Email</label>
      <div class="col-md-2">
        <input type="text"
               name="user[username]"
               id="username-input"
               value="<%=@user.username%>"
               class="form-control">
      </div>
    </div>
    <div class="form-group">
      <label for="password-input" class="col-md-2 control-label">Password</label>
      <div class="col-md-2">
        <input type="password"
               name="user[password]"
               id="password-input"
               class="form-control">
      </div>
    </div>
    <div class="form-group">
      <div class="col-md-10 col-md-offset-2">
        <input type="submit" name="Log in" class='btn btn-default' >
        <br>
        <br>
        <a class="btn btn-info new-user-button" href="/users/new">
          I'm a New User
        </a>
      	<button class='btn btn-success guest-login'>
      		Guest Login
				</button>
      </div>
    </div>
  </fieldset>
</form>
</div>

<div class='container'>
	<table class="table table-bordered splash-grid">
		<% 5.times do |row_num| %>
			<tr class="splash-grid-row">
				<% 10.times do |col_num| %>
					<td class='splash-grid-2-cell'
							row-num="<%= row_num %>"
							col-num="<%= col_num %>"> 
					</td>
				<% end %>
			</tr>
		<% end %>
	</table>
</div>

	<script>
  $(function(){
  	setInterval(function(){
	  	var randRow = Math.floor(Math.random() * 5);
	  	var randCol = Math.floor(Math.random() * 10);
	  	var selectedSquare = $("td[row-num=" + randRow +  "][col-num=" + randCol + "].splash-grid-cell");
	  	selectedSquare.toggleClass("info");
  	}, 500);

  	setInterval(function(){
	  	var randRow = Math.floor(Math.random() * 5);
	  	var randCol = Math.floor(Math.random() * 10);
	  	var selectedSquare = $("td[row-num=" + randRow +  "][col-num=" + randCol + "].splash-grid-2-cell");
	  	selectedSquare.toggleClass("info");
  	}, 500)

    $(".splash-grid-cell, .splash-grid-2-cell").click(function(){
      var span = $("<span>").text("Log in to get started!").css({"text-align": "center"});
      $(this).removeClass("info").addClass("success").html(span);
      $("#login-form").animatescroll({scrollspeed: 3000});
    })

  	$(".splash-grid-cell, .splash-grid-2-cell").mouseenter(function(){
  		$(this).addClass("active");
  	}).mouseleave(function(){
  		$(this).removeClass("active");
  	});


    $(".guest-login").click(function(){
      $("#username-input").attr("value", "MrSmith");
      $("#password-input").attr("value", "password");
      $("form").submit();  
    });

  })
</script>
</div>
